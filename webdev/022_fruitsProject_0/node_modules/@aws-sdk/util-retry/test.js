ull!=l&&l.credit_amount&&(l.credit_amount=l.credit_amount/1e6),null!=l&&l.spend_amount&&(l.spend_amount=l.spend_amount/1e6),null!=u&&u.existing_balance&&(u.existing_balance=u.existing_balance.map((({currency_code:e,total_amount:t})=>({currency_code:e,total_amount:t?t/1e6:0}))));const r=null!=u&&u.experiment_end_timestamp?new Date(u.experiment_end_timestamp):void 0;return u&&{eligible_coupon:i,pending_coupon:l,existing_balance:u.existing_balance,eligible_coupon_experiment:u.eligible_coupon_experiment,experiment_end_date:r}})),getBudgets:t=>e.graphQL(v(),t).then((e=>{var t;const o=null==(t=e.viewer)?void 0:t.quick_promote_budget_by_country;return o?{budgets:o.values.map((e=>parseInt(e,10)/1e6)),currencyCode:o.currency_code,defaultBudget:parseInt(o.default_budget,10)/1e6}:S})),getAudienceEstimate:t=>e.graphQL(m(),t).then((e=>{var t;const o=null==(t=e.quick_promote_audience_estimation_v2)?void 0:t.impressions;return o&&o.low&&o.high?{estimatedImpressions:{low:parseInt(o.low,10),high:parseInt(o.high,10)}}:{estimatedImpressions:void 0}})),getPaymentMethods:t=>e.graphQL(d(),t).then((e=>{const t=e.payment_methods,o=["Active","New","Invalid"],a=[];return null==t||t.forEach((e=>{"CreditCard"===e.payment_method_type&&!(0,n.Z)(e.details)&&e.details.card_status&&o.includes(e.details.card_status)&&a.push({id:e.id,cardStatus:e.details.is_expired?"Expired":"Active"===e.details.card_status?"Active":"Invalid",lastFourDigits:e.details.last_four_digits,fullName:e.details.full_name,isDefault:e.is_default,imgSrcUrl:e.det