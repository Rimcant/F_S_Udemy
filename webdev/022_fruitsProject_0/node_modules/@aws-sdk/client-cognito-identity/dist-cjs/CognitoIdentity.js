"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.CognitoIdentity = void 0;
const CognitoIdentityClient_1 = require("./CognitoIdentityClient");
const CreateIdentityPoolCommand_1 = require("./commands/CreateIdentityPoolCommand");
const DeleteIdentitiesCommand_1 = require("./commands/DeleteIdentitiesCommand");
const DeleteIdentityPoolCommand_1 = require("./commands/DeleteIdentityPoolCommand");
const DescribeIdentityCommand_1 = require("./commands/DescribeIdentityCommand");
const DescribeIdentityPoolCommand_1 = require("./commands/DescribeIdentityPoolCommand");
const GetCredentialsForIdentityCommand_1 = require("./commands/GetCredentialsForIdentityCommand");
const GetIdCommand_1 = require("./commands/GetIdCommand");
const GetIdentityPoolRolesCommand_1 = require("./commands/GetIdentityPoolRolesCommand");
const GetOpenIdTokenCommand_1 = require("./commands/GetOpenIdTokenCommand");
const GetOpenIdTokenForDeveloperIdentityCommand_1 = require("./commands/GetOpenIdTokenForDeveloperIdentityCommand");
const GetPrincipalTagAttributeMapCommand_1 = require("./commands/GetPrincipalTagAttributeMapCommand");
const ListIdentitiesCommand_1 = require("./commands/ListIdentitiesCommand");
const ListIdentityPoolsCommand_1 = require("./commands/ListIdentityPoolsCommand");
const ListTagsForResourceCommand_1 = require("./commands/ListTagsForResourceCommand");
const LookupDeveloperIdentityCommand_1 = require("./commands/LookupDeveloperIdentityCommand");
const MergeDeveloperIdentitiesCommand_1 = require("./commands/MergeDeveloperIdentitiesCommand");
const SetIdentityPoolRolesCommand_1 = require("./commands/SetIdentityPoolRolesCommand");
const SetPrincipalTagAttributeMapCommand_1 = require("./commands/SetPrincipalTagAttributeMapCommand");
const TagResourceCommand_1 = require("./commands/TagResourceCommand");
const UnlinkDeveloperIdentityCommand_1 = require("./commands/UnlinkDeveloperIdentityCommand");
const UnlinkIdentityCommand_1 = require("./commands/UnlinkIdentityCommand");
const UntagResourceCommand_1 = require("./commands/UntagResourceCommand");
const UpdateIdentityPoolCommand_1 = require("./commands/UpdateIdentityPoolCommand");
class CognitoIdentity extends CognitoIdentityClient_1.CognitoIdentityClient {
    createIdentityPool(args, optionsOrCb, cb) {
        const command = new CreateIdentityPoolCommand_1.CreateIdentityPoolCommand(args);
        if (typeof optionsOrCb === "function") {
            this.send(command, optionsOrCb);
        }
        else if (typeof cb === "function") {
            if (typeof optionsOrCb !== "object")
                throw new Error(`Expect http options but get ${typeof optionsOrCb}`);
            this.send(command, optionsOrCb || {}, cb);
        }
        else {
            return this.send(command, optionsOrCb);
        }
    }
    deleteIdentities(args, optionsOrCb, cb) {
        const command = new DeleteIdentitiesCommand_1.DeleteIdentitiesCommand(args);
        if (typeof optionsOrCb === "function") {
            this.send(command, optionsOrCb);
        }
        else if (typeof cb === "function") {
            if (typeof optionsOrCb !== "object")
                throw new Error(`Expect http options but get ${typeof optionsOrCb}`);
            this.send(command, optionsOrCb || {}, cb);
        }
        else {
            return this.send(command, optionsOrCb);
        }
    }
    deleteIdentityPool(args, optionsOrCb, cb) {
        const command = new DeleteIdentityPoolCommand_1.DeleteIdentityPoolCommand(args);
        if (typeof optionsOrCb === "function") {
            this.send(command, optionsOrCb);
        }
        else if (typeof cb === "function") {
            if (typeof optionsOrCb !== "object")
                throw new Error(`Expect http options but get ${typeof optionsOrCb}`);
            this.send(command, optionsOrCb || {}, cb);
        }
        else {
            return this.send(command, optionsOrCb);
        }
    }
    describeIdentity(args, optionsOrCb, cb) {
        const command = new DescribeIdentityCommand_1.DescribeIdentityCommand(args);
        ,path:"viewer_v2.in_app_purchase_products_slice.items.metadata"}],storageKey:null},action:"THROW",path:"viewer_v2.in_app_purchase_products_slice.items"},c={alias:null,args:null,concreteType:"SliceInfo",kind:"LinkedField",name:"slice_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"next_cursor",storageKey:null}],storageKey:null}],storageKey:null},action:"THROW",path:"viewer_v2.in_app_purchase_products_slice"}],storageKey:'viewer_v2(s:"4721")'},action:"THROW",path:"viewer_v2"}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"TwitterCoinsManagementCoinPackQuery",selections:[{alias:null,args:n,concreteType:"Viewer",kind:"LinkedField",name:"viewer_v2",plural:!1,selections:[{alias:null,args:l,concreteType:"InAppPurchaseProductsSlice",kind:"LinkedField",name:"in_app_purchase_products_slice",plural:!1,selections:[{alias:null,args:null,concreteType:"InAppPurchaseProductSliceItem",kind:"LinkedField",name:"items",plural:!0,selections:[i,t,r,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},s],storageKey:null}],storageKey:null},c],storageKey:null}],storageKey:'viewer_v2(s:"4721")'}]},params:{id:"igqUnYeQrT3zZzgw5Tp0FQ",metadata:{},name:"TwitterCoinsManagementCoinPackQuery",operationKind:"query",text:null}};o.hash="0ccfee24ccfa2f76a29da240ebc28b89",e.exports=o},49463:e=>{var a,n,l={fragment:{argumentDefinitions:a=[{defaultValue:null,kind:"LocalArgument",name:"cancel_url"},{defaultValue:null,kind:"LocalArgument",name:"external_product_id"},{defaultValue:null,kind:"LocalArgument",name:"success_url"}],kind:"Fragment",metadata:null,name:"useCoinPurchaseSessionUrlMutation",selections:[{kind:"RequiredField",field:n={alias:null,args:[{kind:"Variable",name:"cancel_url",variableName:"cancel_url"},{kind:"Variable",name:"external_product_id",variableName:"external_product_id"},{kind:"Literal",name:"s",value:"4721"},{kind:"Variable",name:"success_url",variableName:"success_url"}],concreteType:"WebOneTimePurchaseCheckoutSession",kind:"LinkedField",name:"onetimepurchasecheckoutsession_create",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"session_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"session_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"session_status",storageKey:null}],storageKey:null},action:"THROW",path:"onetimepurchasecheckoutsession_create"}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"useCoinPurchaseSessionUrlMutation",selections:[n]},params:{id:"QP5WVTrpvWikhlKybPX5jQ",metadata:{},name:"useCoinPurchaseSessionUrlMutation",operationKind:"mutation",text:null}};l.hash="29cbab3ebd60267d1c0de731100bc4b2",e.exports=l},85076:(e,a,n)=>{n.r(a),n.d(a,{TwitterCoinsManagementScreen:()=>Y,default:()=>ee});n(6886);var l=n(2784),i=n(60917),t=n.n(i),r=n(94407),s=n(25686),c=(n(85488),n(8443)),o=n(36934),u=n(29496),d=n(17779),p=n(73186),m=n(12660),_=n(73228),g=n.n(_);const k=Object.freeze({Beta:"Beta",Live:"Live",Sandbox:"Sandbox",Test:"Test"});var y,b=n(292),v=n(22138),h=n(19313),f=n(92051),T=n(95155),w=n(15610),C=n(34615),F=n(45855),S=n(60673),L=n(23803),K=n(25301),R=n(47547);const E=void 0!==y?y:y=n(42162),x=(0,f.k)(E,{errorConfig:{context:"TWITTER_COINS_MANAGEMENT_COIN_BALANCE_CONTEXT"}}),P=p.Z.create((e=>({leftSpace:{marginStart:e.spaces.space4},balance:{borderRadius:e.borderRadii.xLarge,paddingHorizontal:e.spaces.space12,paddingVertical:e.spaces.space12}}))),O=({coinBalance:e})=>l.createElement(K.ZP,{background:"gray50",style:P.balance},l.createElement(R.default,null),l.createElement(o.ZP,{color:"gray1100",style:P.leftSpace},e));var Z,q=n(51743),A=n.n(q);const M=void 0!==Z?Z:Z=n(49463),B=({cancelUrl:e,successUrl:a})=>{const[n,i]=A()(M);return[l.useCallback((l=>new Promise(((i,t)=>{n({variables:{cancel_url:e,external_product_id:l,success_url:a},onCompleted:(e,a)=>{const n=e.onetimepurchasecheckoutsession_create.session_url;i(n)},onError:t})}))),[n,e,a]),i]};var W;const H=g().j087774e,V=g().dda7478c,I=g().a0b4541c,N=g().ef4602ec,D=g().fe7af53a,Q={bestValue:{pillText:g().f89dfa74,pillType:"bestValue"},mostPopular:{pillText:g().e2beba5e,pillType:"mostPopular"}},z=g().e5461d10,U={page:"twitter_coins"},j={pathname:"/",external:!0},$=g().e5fc32fa,G=void 0!==W?W:W=n(9563),X=(0,f.k)(G,{errorConfig:{context:"TWITTER_COINS_MANAGEMENT_CONTEXT"}}),Y=e=>{const{featureSwitches:a}=l.useContext(h.rC),{history:n}=e,i=(0,S.z)(),[p,_]=l.useState(""),[g,y]=l.useState(!1),{href:f}=C.ZP.get(),K=a.isTrue("tweet_awards_web_coin_purchase_sandbox_enabled"),R=l.useMemo((()=>({environment:K?k.Sandbox:k.Live})),[K]),E=(0,T.p)(),[P,Z]=B({successUrl:f,cancelUrl:f}),q=l.useCallback((()=>{i.scribe({element:"twitter_coins",component:"dismiss_button",action:"click"}),n.goBack()}),[i,n]),A=l.useCallback((e=>l.createElement(s.Z,{style:J.header},l.createElement(o.ZP,{size:"title4",weight:"bold"},H),l.createElement(O,{coinBalance:e}))),[]),M=l.useCallback((()=>{y(!0),P(p).then((e=>C.ZP.navigateTo(e))).catch((()=>{E({text:N,withClearButton:!0,withAutoDismiss:!0}),y(!1)}))}),[P,p,y,E]),W=l.useCallback((e=>{const a=g||Z,n=!p||e||a;return l.createElement(s.Z,{style:J.footer},l.createElement(v.Z,{style:J.disclaimer}),l.createElement(u.ZP,{disabled:n,onPress:M,type:"primaryFilled"},a?l.createElement(c.Z,null):z))}),[p,M,Z,g]),G=l.useCallback(((e,a)=>{_(a)}),[_]),Y=l.useCallback((e=>({uri:e})),[]),ee=l.useCallback((({data:e,fetchStatus:a,retry:n})=>{var i;if(a===L.ZP.FAILED)return l.createElement(d.Z,{onRequestRetry:n,retryMessage:I});const t=((null==e||null==(i=e.viewer_v2)?void 0:i.in_app_purchase_products_slice.items)||[]).map((({external_identifier:e,metadata:{bonus_coin_value:a,coin_value:n,label_keys:i,thumbnail_url:t},name:s,price:c})=>({...i?Q[i[0]]:{},illustration:t?l.createElement(r.Z,{accessibilityLabel:s,resizeMode:"contain",source:Y(t),style:J.image}):null,endContent:(0,w.x)({amount:c,formatter:100}),label:n?`${n.toLocaleString()} ${H}`:s,description:a?`${a.toLocaleString()} ${D}`:null,value:e})));return a===L.ZP.LOADED?l.createElement(m.Z,{name:"coin-pack-picker",onChange:G,options:t,value:p}):null}),[Y,p,G]),ae=l.useCallback((({data:e,fetchStatus:a,retry:i})=>{if(a===L.ZP.FAILED)return l.createElement(d.Z,{onRequestRetry:i,retryMessage:I});if(a===L.ZP.LOADED){var t,r;const a=(null==e||null==(t=e.viewer_v2)?void 0:t.account_balance.amount)||0,i=!(null==e||null==(r=e.viewer_v2)||!r.account_balance.at_limit);return l.createElement(b.Z,{backButtonType:"close",bottomBar:W(i),history:n,onBackClick:q,secondaryBar:A(a)},l.createElement(s.Z,{style:J.root},l.createElement(o.ZP,{color:"gray700",size:"body",style:J.subtext},V,l.createElement(o.ZP,{link:j,style:J.leftSpace},$)),l.createElement(X,{render:ee,variables:R})))}return null}),[W,R,A,ee,q,n]);return l.createElement(F.nO,{namespace:U},l.createElement(x,{render:ae,variables:t()}))},J=p.Z.create((e=>({root:{marginHorizontal:e.spaces.space32,marginVertical:e.spaces.space8},header:{flexDirection:"row",justifyContent:"space-between",marginHorizontal:e.spaces.space32,marginTop:e.spaces.space16,marginBottom:e.spaces.space8},leftSpace:{marginStart:e.spaces.space4},subtext:{marginBottom:e.spaces.space16},footer:{marginHorizontal:e.spaces.space32,marginVertical:e.spaces.space16},disclaimer:{marginBottom:e.spaces.space8,marginHorizontal:"auto",maxWidth:"500px",textAlign:"center"},image:{height:e.spaces.space40,width:e.spaces.space40}}))),ee=Y}}]);
//# sourceMappingURL=https://ton.local.twitter.com/responsive-web-internal/sourcemaps/client-web/bundle.TwitterCoinsManagement.975f8c5a.js.mapØA—Eoúô   -ºtÈ-      

GETµÈ "
accept-rangesbytes" 
access-control-allow-origin*"
age56327"
content-encodinggzip"
content-length3475"5
content-type%application/javascript; charset=utf-8"%
dateWed, 01 Feb 2023 12:02:37 GMT""
etag"QCpEmuTexJFz39wvYvhTpQ==""(
expiresThu, 01 Feb 2024 12:02:37 GMT".
last-modifiedTue, 31 Jan 2023 19:57:41 GMT"
perf
7626143928"
serverECAcc (lis/2E99)".
strict-transport-securitymax-age=631138519"
surrogate-keytwitter-assets"F
timing-allow-origin/https://twitter.com, https://mobile.twitter.com"
varyAccept-Encoding"
x-cacheHIT"U
x-connection-hash@875b448217d8194817088b93485d75f7338664651455fb4f392140e2f6fa8d24"!
x-content-type-optionsnosniff"
x-response-time13"
x-ton-expected-size11720"$
x-transaction-idaa652d57b8af00730ò©†ŽˆÇÔBYhttps://abs.twimg.com/responsive-web/client-web/bundle.TwitterCoinsManagement.975f8c5a.jsPZh2`japplication/javascriptrGETx € ˆ ÄÔ†ŽˆÇÔÚèÐC…`[kRá9ú7	£ÿ¬Š[¤Ÿ.ÜU·£¾V/„–ØA—Eoúô   QÔÝ‚È                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   