=(0,o.Z)(i.layout.data.slides)),!!(n&&n.length>0&&n.every((e=>i.component_objects[e]&&i.component_objects[e].type in c)))},w=e=>`${e}_static`;function C(e,t){if(!e)return;return(e/1e6).toLocaleString(n().language,{style:"currency",currency:t})}function N(e,t){var a,i,n;const r=null==e||null==(a=e.experiment_signals)?void 0:a.dpa_product_metadata;if(!r)return;(null!=(i=e.layout)&&null!=(n=i.data)&&n.slides?(0,o.Z)(e.layout.data.slides).filter((t=>"details"===e.component_objects[t].type)):[]).forEach(((a,i)=>{const n=e.component_objects[a],o=r[i];if("details"===n.type){var d,s,_;e.component_objects[a]=function(e,t,a){const i={...e,type:"dpa_details",data:{destination:e.data.destination,title:e.data.title,subtitle:e.data.subtitle,price:""}};return null!=a.metadataEnabled&&a.metadataEnabled()&&(i.data.price=C(t.regular_price_micros,t.currency_code)||"",i.data.sale_price=C(t.sale_price_micros,t.currency_code)||void 0),i}(n,o,t);const r=e.destination_objects[n.data.destination];var l,c;if(r&&null!=(d=r.data)&&d.url_data)r.data.url_data.vanity=null==(l=n.data)||null==(c=l.subtitle)?void 0:c.content;if(null!=(s=e.layout)&&null!=(_=s.data)&&_.slides&&null!=t.ctaEnabled&&t.ctaEnabled()){const t=`button_group_${i+1}`;e.layout.data.slides[i].push(t),e.component_objects[t]={type:"button_group",data:{buttons:[{type:"cta_dpa",action:"shopNow",destination:n.data.destination}]}}}}}))}const O=({cardId:e,cardType:t,converterOptions:a,data:i})=>{var n,r,l;const c=g(i);if(!c)return{cardState:_.uW.DEFAULT,layout:{[_.uW.DEFAULT]:{size:"large"},[_.uW.CONDENSED]:{size:"small"},[_.uW.STATIC]:{size:"large"}},card:{id:e,card_name:t,components:{[_.uW.DEFAULT]:[],[_.uW.STATIC]:[]},components_data:{},destinations:{},media_entities:{},on_visibility:{scribe:"show"},ucLayout:void 0,experiment_signals:{}}};const m=(v=c,C=a.shouldConvertCollectionToImageWebsiteCard,"collection"===(null==(O=v.layout)?void 0:O.type)&&void 0!==C&&C()?function(e){var t,a;const i=null!=(t=e.layout)&&t.data.slides.length?null==(a=e.layout)?void 0:a.data.slides[0]:[];retur