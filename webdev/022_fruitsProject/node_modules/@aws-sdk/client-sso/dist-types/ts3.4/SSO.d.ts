s,inbox_timelines:{[e]:i},entries:n,users:r,tweets:a,cards:s})}})).then((a=>{const r=a.result.inbox_timeline;if(s<3&&!r.conversations&&r.status===u.To.HAS_MORE)return n(k(e,t,s+1))}))},G=e=>(t,s)=>{const n=R(e,s(),"high");return t(k(v.xR.Untrusted,n))},K=e=>(t,s)=>{const n=R(e,s(),"low");return t(k(v.xR.UntrustedLowQuality,n))},W=e=>(t,s)=>{const n=R(e,s());return t(k(v.xR.Trusted,n))},X="rweb/directMessages/UPDATE_INBOX",J=e=>{const{inbox_timelines:t,...s}=e;return{payload:{cursors:t,lastSeenEventIds:s},type:X}},$=(e={})=>{const{cards:t,conversations:s,cursor:a,entries:r,tweets:i,users:o,...d}=e;return[(0,c.dP)({cards:t,tweets:i,users:o}),!(0,n.Z)(s)&&(0,l.tw)(s),!(0,n.Z)(r)&&(0,I.I7)(r),!(0,n.Z)(a)&&(0,A.NJ)(a),!(0,n.Z)(d)&&J(d)].filter((e=>e))},z=()=>e=>e(te({withTrusted:!0})),ee=()=>e=>e(te({withUntrusted:!0})),te=({withTrusted:e,withUntrusted:t}={})=>(s,n,{api:a})=>{const i=n(),d=(0,l.FS)(i),c=g(i),{last_seen_event_id:_,trusted_last_seen_event_id:u,untrusted_last_seen_event_id:I}=c,E=Object.values(d).reduce(((e,{data:{sort_event_id:t,trusted:s}})=>(e.last_seen_event_id=y(e.last_seen_event_id,t),e.trusted_last_seen_event_id=s?y(e.trusted_last_seen_event_id,t):e.trusted_last_seen_event_id,e.untrusted_last_seen_event_id=s?e.untrusted_last_seen_event_id:y(e.untrusted_last_seen_event_id,t),e)),{...c});if((0,r.T1)(E.last_seen_event_id,_)||e&&(0,r.T1)(E.trusted_last_seen_event_id,u)||t&&(0,r.T1)(E.untrusted_last_seen_event_id,I)){e||delete E.trusted_last_seen_event_id,t||delete E.untrusted_last_seen_event_id;return o.AB(s,{params:E,request:a.DirectMessages.updateLastSeenEventId})({actionTypes:p,context:"APP_DM_UPDATE_LAST_SEEN",meta:{lastSeenEventIds:E}})}return Promise.resolve()},se=(e,t)=>(s,n,{api:a})=>{const r=n(),i=g(r),{last_seen_event_id:d,trusted_last_seen_event_id:c,untrusted_last_seen_event_id:_}=i;let u=!1;const l={};if(t===v._2.PRIMARY&&e===y(c,e)?(u=!0,l.trusted_last_seen_event_id=e,l.last_seen_event_id=y(d,e)):t===v._2.SECONDARY&&e===y(_,e)&&(u=!0,l.untrusted_last_seen_event_id=e,l.last_seen_event_id=y(d,e)),u){return o.AB(s,{params:l,request:a.DirectMessages.updateLastSeenEventId})({actionTypes:p,context:"APP_DM_UPDATE_LAST_SEEN",meta:{lastSeenEventIds:l}})}return Promise.resolve()}},29419:(e,t,s)=>{s.d(t,{m:()=>a,t:()=>n});const n="rweb/directMessages/RESET",a=()=>({type:n})},97654:(e,t,s)=>{s.d(t,{H_: