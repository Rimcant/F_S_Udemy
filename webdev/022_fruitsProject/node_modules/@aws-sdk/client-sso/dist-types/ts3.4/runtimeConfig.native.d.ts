rsationControlsValue:"all"},composerData:[e||j()],excludedRecipients:[],isSending:!1,sentTweetsCount:0}),q=Q(),z=p.x.modal;const B=(e,t)=>{const r=t||e.tweetComposer.activeParentKey;return e.tweetComposer[r]||q},G=(e,t)=>B(e,t).composerData,$=(e,t)=>B(e,t).excludedRecipients,Y=(e,t)=>B(e,t).isSending,J=(e,t)=>B(e,t).activeComposerIndex,X=(e,t)=>B(e,t).audienceControls,ee=e=>{const t=G(e),r=(e=>B(e).sentTweetsCount)(e),o=t.length;return(r+(r<o?(0,_.vW)(e,t[r].mediaIds):0))/o},te=e=>{const t=J(e),r=G(e)[t],o=e.scheduledTweets&&e.scheduledTweets.scheduledTweets;return!o||!r||null!=r&&r.scheduledFor?r&&r.scheduledFor:((e,t)=>{var r;const o=t.find((t=>t.rest_id===e&&t.scheduling_info&&t.scheduling_info.execute_at)),s=null==o||null==(r=o.scheduling_info)?void 0:r.execute_at;if(s)return(0,a.BR)(s)})(r.scheduledTweetId,o)},re=e=>{const t=J(e),r=G(e)[t];return r&&r.taggedLocation},oe=({index:e,parentKey:t,updates:r})=>(o,s)=>{const a=void 0!==e?e:J(s(),t);o(me((0,_.vY)(G(s(),t),a,r),t))},se=e=>(t,r)=>{const o=null!=e?e:p.x.homeTimeline;t((({from:e,to:t})=>(r,o)=>{r(me((0,_.vY)(G(o(),e),0,{}),t))})({from:o,to:p.x.modal})),t(he(X(r(),o),p.x.modal)),t(ve(p.x.modal)),t({type:we,meta:{parentKey:o}})},ae=()=>(e,t)=>{const r=J(t());let o;const a=G(t()).reduce(((e,t,a)=>((0,s.m_)(t)||e.push(t),a===r&&(e.push(j()),o=e.length-1),e)),[]);e([me(a),pe(o)])},ne=()=>(e,t)=>{const r=G(t()),o=J(t()),s=Math.max(0,o-1);e([pe(s),me([...r.slice(0,o),...r.slice(o+1)])])},ie=(e,t)=>(r,o)=>{r(oe({updates:{draftTweetId:e.tweetId,gifMetadata:e.gifMetadata,mediaIds:e.mediaIds,text:e.text},parentKey:t}))},de=(e,t)=>(r,o)=>{r(oe({updates:{scheduledFor:e.scheduledFor,gifMetadata:e.gifMetadata,mediaIds:e.mediaIds,text:e.text,scheduledTweetId:e.tweetId},parentKey:t}))},le="rweb/tweetComposer/UPDATE_EXCLUDED_RECIPIENTS",ce=e=>({payload:e,type:le}),ue="rweb/tweetComposer/UPDATE_ACTIVE_COMPOSER_INDEX",pe=(e=0)=>({type:ue,payload:e}),_e="rweb/tweetComposer/SAVE_COMPOSER_DATA",me=(e,t)=>({type:_e,payload:e,meta:{parentKey:t}}),we="rweb/tweetComposer/RESET_DRAFT",Te=e=>(t,r)=>{null!=e&&e.isPreview||G(r(),null==e?void 0:e.parentKey).forEach((e=>{e.mediaIds.length&&t((0,i.WU)(e.mediaIds))})),t(Ie()),t({type:we,meta:{parentKey:null==e?void 0:e.parentKey}})},Ee="rweb/tweetComposer/UPDATE_AUDIENCE_CONTROLS_VALUE",he=(e,t)=>({type:Ee,payload:e,meta:{parentKey:t}}),fe="rweb/tweetCo